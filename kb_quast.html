<!DOCTYPE html><html><head><title>kb_quast</title><link rel="stylesheet" href="KIDLspec.css"></head><body><div class="module"><div class="comment"><div>/*</div><div><span class="space"></span><span>*</span><span class="space"></span><span>Wrapper for the QUAST tool. Takes one or more assemblies as input and produces a QUAST report</span></div><div><span class="space"></span><span>*</span><span class="space"></span><span>stored in a zip file in Shock.</span></div><div><span class="space"></span><span>*/</span></div></div><span class="keyword">module</span><span class="space"></span><span class="name">kb_quast</span><span class="space"></span><span>{</span><br><br><div><span class="typedef"><div class="comment"><div><span class="tab"></span><span>/*</span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span>A boolean - 0 for false, 1 for true.</span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span><span class="annotation">@range</span><span class="space"></span><span>(0, 1)</span></span></div><div><span class="tab"></span><span class="space"></span><span>*/</span></div></div><span class="tab"></span><span class="keyword">typedef</span><span class="space"></span><span class="primitive">int</span><span class="space"></span><span class="name" id="typedefkb_quast.boolean">boolean</span><span>;</span></span></div><br><div><span class="typedef"><div class="comment"><div><span class="tab"></span><span>/*</span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span>An X/Y/Z style reference to a workspace object containing an assembly, either a</span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span>KBaseGenomes.ContigSet or KBaseGenomeAnnotations.Assembly.</span></div><div><span class="tab"></span><span class="space"></span><span>*/</span></div></div><span class="tab"></span><span class="keyword">typedef</span><span class="space"></span><span class="primitive">string</span><span class="space"></span><span class="name" id="typedefkb_quast.assembly_ref">assembly_ref</span><span>;</span></span></div><br><div><span class="typedef"><div class="comment"><div><span class="tab"></span><span>/*</span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span>A handle for a file stored in Shock.</span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span>hid - the id of the handle in the Handle Service that references this shock node</span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span>id - the id for the shock node</span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span>url - the url of the shock server</span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span>type - the type of the handle. This should always be shock.</span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span>file_name - the name of the file</span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span>remote_md5 - the md5 digest of the file.</span></div><div><span class="tab"></span><span class="space"></span><span>*/</span></div></div><span class="tab"></span><span class="keyword">typedef</span><span class="space"></span><span><span class="primitive">structure</span><span class="space"></span><span>{</span><div><span><span class="tab"></span><span class="tab"></span><span class="primitive">string</span><span class="space"></span><span class="name">hid</span><span>;</span></span></div><div><span><span class="tab"></span><span class="tab"></span><span class="primitive">string</span><span class="space"></span><span class="name">file_name</span><span>;</span></span></div><div><span><span class="tab"></span><span class="tab"></span><span class="primitive">string</span><span class="space"></span><span class="name">id</span><span>;</span></span></div><div><span><span class="tab"></span><span class="tab"></span><span class="primitive">string</span><span class="space"></span><span class="name">url</span><span>;</span></span></div><div><span><span class="tab"></span><span class="tab"></span><span class="primitive">string</span><span class="space"></span><span class="name">type</span><span>;</span></span></div><div><span><span class="tab"></span><span class="tab"></span><span class="primitive">string</span><span class="space"></span><span class="name">remote_md5</span><span>;</span></span></div><span class="tab"></span><span>}</span></span><span class="space"></span><span class="name" id="typedefkb_quast.Handle">Handle</span><span>;</span></span></div><br><div><span class="typedef"><div class="comment"><div><span class="tab"></span><span>/*</span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span>A local FASTA file.</span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span>path - the in-container path to the FASTA file.</span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span>label - the label to use for the file in the QUAST output. If missing, the file name will</span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span>be used.</span></div><div><span class="tab"></span><span class="space"></span><span>*/</span></div></div><span class="tab"></span><span class="keyword">typedef</span><span class="space"></span><span><span class="primitive">structure</span><span class="space"></span><span>{</span><div><span><span class="tab"></span><span class="tab"></span><span class="primitive">string</span><span class="space"></span><span class="name">path</span><span>;</span></span></div><div><span><span class="tab"></span><span class="tab"></span><span class="primitive">string</span><span class="space"></span><span class="name">label</span><span>;</span></span></div><span class="tab"></span><span>}</span></span><span class="space"></span><span class="name" id="typedefkb_quast.FASTAFile">FASTAFile</span><span>;</span></span></div><br><div><span class="typedef"><div class="comment"><div><span class="tab"></span><span>/*</span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span>Input for running QUAST as a Narrative application.</span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span>workspace_name - the name of the workspace where the KBaseReport object will be saved.</span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span>assemblies - the list of assemblies upon which QUAST will be run.</span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span>force_glimmer - running '--glimmer' option regardless of assembly object size</span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span><span class="space"></span><span class="space"></span><span class="space"></span><span class="space"></span><span class="space"></span><span class="space"></span><span class="space"></span><span class="space"></span>min_contig_length - set the minimum size of contigs to process. Defaults to 500,</span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span><span class="space"></span><span class="space"></span><span class="space"></span><span class="space"></span><span class="space"></span><span class="space"></span><span class="space"></span><span class="space"></span><span class="space"></span><span class="space"></span><span class="space"></span><span class="space"></span>minimum allowed is 50.</span></div><div><span class="tab"></span><span class="space"></span><span>*/</span></div></div><span class="tab"></span><span class="keyword">typedef</span><span class="space"></span><span><span class="primitive">structure</span><span class="space"></span><span>{</span><div><span><span class="tab"></span><span class="tab"></span><span class="primitive">string</span><span class="space"></span><span class="name">workspace_name</span><span>;</span></span></div><div><span><span class="tab"></span><span class="tab"></span><span><span class="primitive">list</span><span>&lt;</span><span class="name"><a href="#typedefkb_quast.assembly_ref">assembly_ref</a></span><span>&gt;</span></span><span class="space"></span><span class="name">assemblies</span><span>;</span></span></div><div><span><span class="tab"></span><span class="tab"></span><span class="name"><a href="#typedefkb_quast.boolean">boolean</a></span><span class="space"></span><span class="name">force_glimmer</span><span>;</span></span></div><div><span><span class="tab"></span><span class="tab"></span><span class="primitive">int</span><span class="space"></span><span class="name">min_contig_length</span><span>;</span></span></div><span class="tab"></span><span>}</span></span><span class="space"></span><span class="name" id="typedefkb_quast.QUASTAppParams">QUASTAppParams</span><span>;</span></span></div><br><div><span class="typedef"><div class="comment"><div><span class="tab"></span><span>/*</span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span>Output of the run_quast_app function.</span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span>report_name - the name of the KBaseReport.Report workspace object.</span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span>report_ref - the workspace reference of the report.</span></div><div><span class="tab"></span><span class="space"></span><span>*/</span></div></div><span class="tab"></span><span class="keyword">typedef</span><span class="space"></span><span><span class="primitive">structure</span><span class="space"></span><span>{</span><div><span><span class="tab"></span><span class="tab"></span><span class="primitive">string</span><span class="space"></span><span class="name">report_name</span><span>;</span></span></div><div><span><span class="tab"></span><span class="tab"></span><span class="primitive">string</span><span class="space"></span><span class="name">report_ref</span><span>;</span></span></div><span class="tab"></span><span>}</span></span><span class="space"></span><span class="name" id="typedefkb_quast.QUASTAppOutput">QUASTAppOutput</span><span>;</span></span></div><br><div><span class="funcdef"><div class="comment"><div><span class="tab"></span><span>/*</span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span>Run QUAST and save a KBaseReport with the output.</span></div><div><span class="tab"></span><span class="space"></span><span>*/</span></div></div><span class="tab"></span><span class="keyword">funcdef</span><span class="space"></span><span class="name" id="funcdefkb_quast.run_QUAST_app">run_QUAST_app</span><span>(</span><span class="parameters"><span class="parameter"><span class="name"><a href="#typedefkb_quast.QUASTAppParams">QUASTAppParams</a></span><span class="space"></span><span class="name">params</span></span></span><span>)</span><span class="space"></span><span class="keyword">returns</span><span>(</span><span class="returns"><span class="parameter"><span class="name"><a href="#typedefkb_quast.QUASTAppOutput">QUASTAppOutput</a></span><span class="space"></span><span class="name">output</span></span></span><span>)</span><span class="space"></span><span class="keyword">authentication</span><span class="space"></span><span class="keyword">required</span><span>;</span></span></div><br><div><span class="typedef"><div class="comment"><div><span class="tab"></span><span>/*</span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span>Innput for the run_quest_local function.</span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span></span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span>files - the list of FASTA files upon which QUAST will be run.</span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span>quast_path - the in-container path where the QUAST output should be stored.</span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span></span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span>Optional arguments:</span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span>force_glimmer - runs the '--glimmer' option regardless of file/assembly object size if true</span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span>min_contig_length - set the minimum size of contigs to process. Defaults to 500,</span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span><span class="space"></span><span class="space"></span><span class="space"></span><span class="space"></span><span class="space"></span><span class="space"></span><span class="space"></span><span class="space"></span>minimum allowed is 50.</span></div><div><span class="tab"></span><span class="space"></span><span>*/</span></div></div><span class="tab"></span><span class="keyword">typedef</span><span class="space"></span><span><span class="primitive">structure</span><span class="space"></span><span>{</span><div><span><span class="tab"></span><span class="tab"></span><span><span class="primitive">list</span><span>&lt;</span><span class="name"><a href="#typedefkb_quast.FASTAFile">FASTAFile</a></span><span>&gt;</span></span><span class="space"></span><span class="name">files</span><span>;</span></span></div><div><span><span class="tab"></span><span class="tab"></span><span class="primitive">string</span><span class="space"></span><span class="name">quast_path</span><span>;</span></span></div><div><span><span class="tab"></span><span class="tab"></span><span class="name"><a href="#typedefkb_quast.boolean">boolean</a></span><span class="space"></span><span class="name">force_glimmer</span><span>;</span></span></div><div><span><span class="tab"></span><span class="tab"></span><span class="primitive">int</span><span class="space"></span><span class="name">min_contig_length</span><span>;</span></span></div><span class="tab"></span><span>}</span></span><span class="space"></span><span class="name" id="typedefkb_quast.QUASTLocalParams">QUASTLocalParams</span><span>;</span></span></div><br><div><span class="typedef"><div class="comment"><div><span class="tab"></span><span>/*</span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span>Output of the run_quast_local function.</span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span>quast_path - the directory containing the quast output.</span></div><div><span class="tab"></span><span class="space"></span><span>*/</span></div></div><span class="tab"></span><span class="keyword">typedef</span><span class="space"></span><span><span class="primitive">structure</span><span class="space"></span><span>{</span><div><span><span class="tab"></span><span class="tab"></span><span class="primitive">string</span><span class="space"></span><span class="name">quast_path</span><span>;</span></span></div><span class="tab"></span><span>}</span></span><span class="space"></span><span class="name" id="typedefkb_quast.QUASTLocalOutput">QUASTLocalOutput</span><span>;</span></span></div><br><div><span class="funcdef"><div class="comment"><div><span class="tab"></span><span>/*</span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span>Run QUAST entirely locally.</span></div><div><span class="tab"></span><span class="space"></span><span>*/</span></div></div><span class="tab"></span><span class="keyword">funcdef</span><span class="space"></span><span class="name" id="funcdefkb_quast.run_QUAST_local">run_QUAST_local</span><span>(</span><span class="parameters"><span class="parameter"><span class="name"><a href="#typedefkb_quast.QUASTLocalParams">QUASTLocalParams</a></span><span class="space"></span><span class="name">params</span></span></span><span>)</span><span class="space"></span><span class="keyword">returns</span><span>(</span><span class="returns"><span class="parameter"><span class="name"><a href="#typedefkb_quast.QUASTLocalOutput">QUASTLocalOutput</a></span><span class="space"></span><span class="name">output</span></span></span><span>)</span><span class="space"></span><span class="keyword">authentication</span><span class="space"></span><span class="keyword">none</span><span>;</span></span></div><br><div><span class="typedef"><div class="comment"><div><span class="tab"></span><span>/*</span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span>Input for running QUAST.</span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span>assemblies - the list of assemblies upon which QUAST will be run.</span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span>-OR-</span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span>files - the list of FASTA files upon which QUAST will be run.</span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span></span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span>Optional arguments:</span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span>make_handle - create a handle for the new shock node for the report.</span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span>force_glimmer - running '--glimmer' option regardless of file/assembly object size</span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span><span class="space"></span><span class="space"></span><span class="space"></span><span class="space"></span><span class="space"></span><span class="space"></span><span class="space"></span><span class="space"></span>min_contig_length - set the minimum size of contigs to process. Defaults to 500,</span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span><span class="space"></span><span class="space"></span><span class="space"></span><span class="space"></span><span class="space"></span><span class="space"></span><span class="space"></span><span class="space"></span><span class="space"></span><span class="space"></span><span class="space"></span><span class="space"></span>minimum allowed is 50.</span></div><div><span class="tab"></span><span class="space"></span><span>*/</span></div></div><span class="tab"></span><span class="keyword">typedef</span><span class="space"></span><span><span class="primitive">structure</span><span class="space"></span><span>{</span><div><span><span class="tab"></span><span class="tab"></span><span><span class="primitive">list</span><span>&lt;</span><span class="name"><a href="#typedefkb_quast.assembly_ref">assembly_ref</a></span><span>&gt;</span></span><span class="space"></span><span class="name">assemblies</span><span>;</span></span></div><div><span><span class="tab"></span><span class="tab"></span><span><span class="primitive">list</span><span>&lt;</span><span class="name"><a href="#typedefkb_quast.FASTAFile">FASTAFile</a></span><span>&gt;</span></span><span class="space"></span><span class="name">files</span><span>;</span></span></div><div><span><span class="tab"></span><span class="tab"></span><span class="name"><a href="#typedefkb_quast.boolean">boolean</a></span><span class="space"></span><span class="name">make_handle</span><span>;</span></span></div><div><span><span class="tab"></span><span class="tab"></span><span class="name"><a href="#typedefkb_quast.boolean">boolean</a></span><span class="space"></span><span class="name">force_glimmer</span><span>;</span></span></div><div><span><span class="tab"></span><span class="tab"></span><span class="primitive">int</span><span class="space"></span><span class="name">min_contig_length</span><span>;</span></span></div><span class="tab"></span><span>}</span></span><span class="space"></span><span class="name" id="typedefkb_quast.QUASTParams">QUASTParams</span><span>;</span></span></div><br><div><span class="typedef"><div class="comment"><div><span class="tab"></span><span>/*</span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span>Output of the run_quast function.</span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span>shock_id - the id of the shock node where the zipped QUAST output is stored.</span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span>handle - the new handle for the shock node, if created.</span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span>node_file_name - the name of the file stored in Shock.</span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span>size - the size of the file stored in shock.</span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span>quast_path - the directory containing the quast output and the zipfile of the directory.</span></div><div><span class="tab"></span><span class="space"></span><span>*/</span></div></div><span class="tab"></span><span class="keyword">typedef</span><span class="space"></span><span><span class="primitive">structure</span><span class="space"></span><span>{</span><div><span><span class="tab"></span><span class="tab"></span><span class="primitive">string</span><span class="space"></span><span class="name">shock_id</span><span>;</span></span></div><div><span><span class="tab"></span><span class="tab"></span><span class="name"><a href="#typedefkb_quast.Handle">Handle</a></span><span class="space"></span><span class="name">handle</span><span>;</span></span></div><div><span><span class="tab"></span><span class="tab"></span><span class="primitive">string</span><span class="space"></span><span class="name">node_file_name</span><span>;</span></span></div><div><span><span class="tab"></span><span class="tab"></span><span class="primitive">string</span><span class="space"></span><span class="name">size</span><span>;</span></span></div><div><span><span class="tab"></span><span class="tab"></span><span class="primitive">string</span><span class="space"></span><span class="name">quast_path</span><span>;</span></span></div><span class="tab"></span><span>}</span></span><span class="space"></span><span class="name" id="typedefkb_quast.QUASTOutput">QUASTOutput</span><span>;</span></span></div><br><div><span class="funcdef"><div class="comment"><div><span class="tab"></span><span>/*</span></div><div><span class="tab"></span><span class="space"></span><span>*</span><span class="space"></span><span>Run QUAST and return a shock node containing the zipped QUAST output.</span></div><div><span class="tab"></span><span class="space"></span><span>*/</span></div></div><span class="tab"></span><span class="keyword">funcdef</span><span class="space"></span><span class="name" id="funcdefkb_quast.run_QUAST">run_QUAST</span><span>(</span><span class="parameters"><span class="parameter"><span class="name"><a href="#typedefkb_quast.QUASTParams">QUASTParams</a></span><span class="space"></span><span class="name">params</span></span></span><span>)</span><span class="space"></span><span class="keyword">returns</span><span>(</span><span class="returns"><span class="parameter"><span class="name"><a href="#typedefkb_quast.QUASTOutput">QUASTOutput</a></span><span class="space"></span><span class="name">output</span></span></span><span>)</span><span class="space"></span><span class="keyword">authentication</span><span class="space"></span><span class="keyword">required</span><span>;</span></span></div><span>}</span><span>;</span></div><div class="index"><h2>Function Index</h2><div><span class="tab"></span><span class="name"><a href="#funcdefkb_quast.run_QUAST">run_QUAST</a></span></div><div><span class="tab"></span><span class="name"><a href="#funcdefkb_quast.run_QUAST_app">run_QUAST_app</a></span></div><div><span class="tab"></span><span class="name"><a href="#funcdefkb_quast.run_QUAST_local">run_QUAST_local</a></span></div><h2>Type Index</h2><div><span class="tab"></span><span class="name"><a href="#typedefkb_quast.assembly_ref">assembly_ref</a></span></div><div><span class="tab"></span><span class="name"><a href="#typedefkb_quast.boolean">boolean</a></span></div><div><span class="tab"></span><span class="name"><a href="#typedefkb_quast.FASTAFile">FASTAFile</a></span></div><div><span class="tab"></span><span class="name"><a href="#typedefkb_quast.Handle">Handle</a></span></div><div><span class="tab"></span><span class="name"><a href="#typedefkb_quast.QUASTAppOutput">QUASTAppOutput</a></span></div><div><span class="tab"></span><span class="name"><a href="#typedefkb_quast.QUASTAppParams">QUASTAppParams</a></span></div><div><span class="tab"></span><span class="name"><a href="#typedefkb_quast.QUASTLocalOutput">QUASTLocalOutput</a></span></div><div><span class="tab"></span><span class="name"><a href="#typedefkb_quast.QUASTLocalParams">QUASTLocalParams</a></span></div><div><span class="tab"></span><span class="name"><a href="#typedefkb_quast.QUASTOutput">QUASTOutput</a></span></div><div><span class="tab"></span><span class="name"><a href="#typedefkb_quast.QUASTParams">QUASTParams</a></span></div></div></body></html>